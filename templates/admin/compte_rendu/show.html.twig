{% extends 'front.html.twig' %}

{% block title %} MED {% endblock %}

{% block header %}
{{ parent() }}
{% endblock %}

{% block links %}
<li class="active">
    <a href="{{ path('app_home') }}">Home</a>
</li>
<li><a href="#">Doctors</a></li>
<li><a href="#">Reclamation</a></li>
<li><a href="#">Donations</a></li>
<li><a href="#">Blog</a></li>
<li><a href="#">Contact Us</a></li>

<style>
    .button {
        display: inline-block;
        background-color: #007bff;
        padding: 8px 16px;
        text-decoration: dashed !important;
        border-radius: 4px;
        color: black !important;
        font-weight: bold;
        margin-top: 20px;


    }
</style>
{% endblock %}

{% block footer %}
{% endblock %}

{% block auth %}
{% if app.user %}
<div class="navbar-collapse justify-content-end px-0" id="navbarNav">
    <ul class="navbar-nav flex-row ms-auto align-items-center justify-content-end">
        <li class="nav-item dropdown">
            <a class="nav-link nav-icon-hover" href="javascript:void(0)" id="drop2" data-bs-toggle="dropdown"
                aria-expanded="false">
                <img src="contact.png" alt="" width="35" height="35" class="rounded-circle" />
            </a>

            <div class="dropdown-menu dropdown-menu-end dropdown-menu-animate-up" aria-labelledby="drop2">
                <div class="message-body">
                    <a href="{{ path('app_profile') }}" class="d-flex align-items-center gap-2 dropdown-item">
                        <i style="
                filter: invert(67%) sepia(6%) saturate(8%) hue-rotate(329deg)
                  brightness(78%) contrast(81%);
                      " class="fa-solid fa-user"></i>
                        <p class="mb-0 fs-3">
                            <span style="text-transform: capitalize">{{ app.user.name }} Profile</span>
                        </p>
                    </a>
                    <a href="{{ path('app_settings',{'id':app.user.id}) }}"
                        class="d-flex align-items-center gap-2 dropdown-item">
                        <i style="
                filter: invert(67%) sepia(6%) saturate(8%) hue-rotate(329deg)
                  brightness(78%) contrast(81%);
                      " class="fa-solid fa-gear"></i>
                        <p class="mb-0 fs-3">Settings</p>
                    </a>
                    {% if is_granted('ROLE_ADMIN') %}
                    <a href="{{ path('app_admin') }}" class="d-flex align-items-center gap-2 dropdown-item">
                        <i style="
                filter: invert(67%) sepia(6%) saturate(8%) hue-rotate(329deg)
                  brightness(78%) contrast(81%);
                      " class="fa-solid fa-lock"></i>
                        <p class="mb-0 fs-3">Dashboard</p>
                    </a>
                    {% endif %}

                    <a id="logout" href="{{ path('app_logout') }}"
                        class="btn btn-outline-primary mx-3 mt-2 d-block">Logout</a>
                </div>
            </div>
        </li>
    </ul>
</div>

{% else %}
<a href="{{ path('app_register') }}" class="btn">Sign up</a>
<a href="{{ path('app_login') }}" class="btn ml-3">Log in</a>

{% endif %}
{% endblock %}

{% block body %}
<div class="container mt-5">
    <div class="card">
        <div class="card-header text-center">
            <h1 class="card-title">Diagnostic Report</h1>
        </div>
        <div class="card-body">
            <table class="table">
                <tbody>
                    <tr>
                        <th>Patient :</th>
                        <td>{{compte_rendu.idImage.patient.user.name }} {{ compte_rendu.idImage.patient.user.lastname }}</td>
                    </tr>
                    <tr>
                        <th>Doctor :</th>
                        <td>{{ compte_rendu.IdDoctor.user.name }} {{
                            compte_rendu.IdDoctor.user.lastname }}</td>
                    </tr>
                    {% if compte_rendu.interpretationMed >0 %}
                    <tr>
                        <th>Doctor's decision</th>
                        <td>{{ compte_rendu.interpretationMed }}</td>
                    </tr>
                    {%endif%}
                    <tr>
                        <th>Radiologist :</th>
                        <td>{{ compte_rendu.idImage.radiologist.user.name }} {{ compte_rendu.idImage.radiologist.user.lastname }}</td>
                    </tr>
                    <tr>
                        <th>Radiologist's decision</th>
                        <td>{{ compte_rendu.interpretationRad }}</td>
                    </tr>
                    {% if compte_rendu.date is not null %}
                    <tr>
                        <th>Date</th>
                        <td>{{ compte_rendu.date ? compte_rendu.date|date('Y-m-d') : '' }}</td>
                    </tr>
                    {%endif%}

                </tbody>
            </table>

            <div class="text-center">
                <a href="{{ path('app_admin_report') }}" class="button ">Back to List</a>
                <a href="{{ path('app_compte_rendu_edit', {'id': compte_rendu.id}) }}" class="button ">Edit</a>
                <br></br>
                {{ include('admin/compte_rendu/_delete_form.html.twig') }}
            </div>
        </div>
    </div>
</div>
{% endblock %}